# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PlanetScale MySQL –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ RUBOLKA

## üìù **–ß—Ç–æ —Ç–∞–∫–æ–µ PlanetScale?**

**PlanetScale** - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è MySQL –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å:
- ‚úÖ **1GB –±–µ—Å–ø–ª–∞—Ç–Ω–æ** (—Ö–≤–∞—Ç–∏—Ç –Ω–∞ —Ç—ã—Å—è—á–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∑–∞–∫–∞–∑–æ–≤)
- ‚úÖ **–ù–µ —Å–ª–µ—Ç–∞–µ—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ—è—Ö** (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ **–ê–≤—Ç–æ–±—ç–∫–∞–ø—ã** –∏ **–≤—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
- ‚úÖ **Branching** - –≤–µ—Ç–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ Git
- ‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å Railway –∏ –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

---

## üîß **–®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ PlanetScale**

1. **–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞** ‚Üí https://planetscale.com/
2. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º—Å—è** —á–µ—Ä–µ–∑ GitHub/Google/Email
3. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –ø–æ—á—Ç—É** (–µ—Å–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø–æ email)

---

## üóÑÔ∏è **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
```
1. –ù–∞–∂–∏–º–∞–µ–º "Create database"
2. –ù–∞–∑–≤–∞–Ω–∏–µ: rubolka-shop (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ)
3. –†–µ–≥–∏–æ–Ω: –≤—ã–±–∏—Ä–∞–µ–º –±–ª–∏–∂–∞–π—à–∏–π (EU-West –¥–ª—è –†–æ—Å—Å–∏–∏)
4. –ù–∞–∂–∏–º–∞–µ–º "Create database"
```

### 2. –ñ–¥–µ–º —Å–æ–∑–¥–∞–Ω–∏—è (1-2 –º–∏–Ω—É—Ç—ã):
- ‚úÖ –ë–∞–∑–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –≤–µ—Ç–∫–∞ `main` (–æ—Å–Ω–æ–≤–Ω–∞—è)

---

## üîê **–®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**

### 1. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```
Database ‚Üí Settings ‚Üí Connection strings
```

### 2. –í—ã–±–∏—Ä–∞–µ–º Prisma:
```
Framework: Prisma
Branch: main
```

### 3. –ö–æ–ø–∏—Ä—É–µ–º DATABASE_URL:
```
DATABASE_URL="mysql://username:password@host/database?sslaccept=strict"
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª—å - –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ—ë –≤ Git!

---

## üåç **–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (.env.local):
```bash
# –í —Ñ–∞–π–ª–µ rubolka-nextjs/.env.local
DATABASE_URL="mysql://username:password@host/database?sslaccept=strict"
```

### 2. –ù–∞ Railway (Production):
```bash
# –í Railway Dashboard ‚Üí Variables
DATABASE_URL=mysql://username:password@host/database?sslaccept=strict
```

---

## üöÄ **–®–∞–≥ 5: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

### 1. –ü—É—à–∏–º —Å—Ö–µ–º—É –≤ PlanetScale:
```bash
cd rubolka-nextjs
npm run db:push
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ:
```bash
npm run init-db
```

### 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```bash
npm run db:studio
```

---

## üìä **–®–∞–≥ 6: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏**

### Prisma Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):
```bash
npm run db:studio
```
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è http://localhost:5555
- –ú–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –£–¥–æ–±–Ω–æ –¥–ª—è –¥–µ–±–∞–≥–∞

### PlanetScale Dashboard:
- Insights - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- Branches - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ç–∫–∞–º–∏
- Settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üîß **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npm run db:generate

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã —Å –±–∞–∑–æ–π
npm run db:push

# –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npm run db:studio

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
npm run init-db

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–ª–∏–µ–Ω—Ç–∞)
npm run build
```

---

## üõ†Ô∏è **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã PlanetScale**

–ï—Å–ª–∏ PlanetScale –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

### 1. **Railway PostgreSQL** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è):
```bash
# –í Railway Dashboard –¥–æ–±–∞–≤–ª—è–µ–º PostgreSQL
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç DATABASE_URL
```

### 2. **Supabase** (PostgreSQL + —Ñ–∏—á–∏):
```bash
# https://supabase.com
# 500MB –±–µ—Å–ø–ª–∞—Ç–Ω–æ + —Ä–µ–∞–ª—Ç–∞–π–º + –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```

### 3. **Neon** (Serverless PostgreSQL):
```bash
# https://neon.tech
# 3GB –±–µ—Å–ø–ª–∞—Ç–Ω–æ + –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥
```

---

## üö® **–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

### ‚ùå **Connection timeout:**
```
–†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏–æ–Ω PlanetScale (–≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π)
```

### ‚ùå **SSL certificate error:**
```
–†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤—å—Ç–µ ?sslaccept=strict –≤ –∫–æ–Ω–µ—Ü DATABASE_URL
```

### ‚ùå **Access denied:**
```
–†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å –≤ PlanetScale Dashboard
```

### ‚ùå **Prisma client not generated:**
```bash
npm run db:generate
```

---

## ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:** http://localhost:3000/admin
2. **–ö–∞—Ç–∞–ª–æ–≥:** http://localhost:3000/catalog
3. **API —Ç–æ–≤–∞—Ä–æ–≤:** http://localhost:3000/api/products

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway! üéâ

---

## üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DATABASE_URL
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `npm run db:push` –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**PlanetScale** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞! üöÄ 